================================================================================
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
================================================================================

$Revision$ $Date$

                         =================================
                         Apache Tomcat 6.0 Patch Proposals
                         =================================


RELEASE SHOWSTOPPERS:


PATCHES ACCEPTED TO BACKPORT:
  [ start all new proposals below, under PATCHES PROPOSED. ]

PATCHES PROPOSED TO BACKPORT:
  [ New proposals should be added at the end of the list ]

*  Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=36155
   Port the fix from the JK Connector to the AJP and APR Connectors
   http://svn.apache.org/viewvc?rev=672454&view=rev
   +1: billbarker
   -1: remm: No, this gets called all the time, and we're trying to fix a small issue. The real
             solution would be to recycle the fields since as mentioned here it is the cause of 
             the problem (the "local" fields will often never change, but there's no real 
             guarantee overall - it mostly breaks down if there are multiple connectors, with AJP,
             and seems impossible to anticipate):
             https://issues.apache.org/bugzilla/show_bug.cgi?id=36155#c17

* Add in startup options, so that cluster can be started in TCP mode only, when using static membership
  Also document the multicast recovery options
  http://svn.apache.org/viewvc?rev=674125&view=rev
  +1: fhanik, markt, funkman
  -1: 

* Fix comet behavior
  Invoke READ when there is a body and make sure END is called if CometEvent.close is called during an invokation
  http://svn.apache.org/viewvc?rev=677473&view=rev
  +1: fhanik, funkman
   0: remm: no idea if it's better or worse (the fact that it's been closed is visible)
  -1: 

* Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45459
  Include possible cause in error message since excpetion isn't that clear
  http://svn.apache.org/viewvc?rev=680710&view=rev
  +1: markt
  -0: funkman ( Agree with Remy - just not as strongly (There is enough in the stacktrace that your fav search
       engine can tell you what is wrong fairly quickly)
  -1: remm (this error seems to be displayed by Class.newInstance() which should be ok to use; I am
            not ok with the idea of working around every error message from JDKs)

* Fix issue where the first request for a deleted JSPs returns as if the JSP
  still exists.
  http://svn.apache.org/viewvc?view=rev&revision=683969
  +1: markt
   0: remm (looks risky, very minor problem)
  -1: 

* Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45608
  Prevent race condition for allocate/deallocate in StandardWrapper
  http://svn.apache.org/viewvc?rev=685177&view=rev
  +1: markt
   0: remm: The only unsafe usage of this field is to implement the gimmick loop-wait hack,
            which to me means adding any sort of sync is not worth it.
  -1: 

* http://svn.apache.org/viewvc/tomcat/trunk/java/org/apache/catalina/core/StandardHost.java?r1=593649&r2=685530&diff_format=h
  Provide full stacktrace/message when ErrorReportValveClass can't be instantiated.
  +1: funkman, remm, fhanik
  -1: 

* Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=43327
  http://svn.apache.org/viewvc?rev=687755&view=rev
  Note use trunk >=r690600 of TC-native to test it as it also needs patches
  there.
  +1: jfclere, remm, markt
  -1:

* Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45074
  http://svn.apache.org/viewvc?rev=689402&view=rev
  +1: jfclere
  -0: remm: configuring this is useless (esp on Windows, only the default behavior gives acceptable performance)
  -1: 

* Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45691
  http://svn.apache.org/viewvc?rev=690693&view=rev
  NB: Methods deleted in JspUtil to be deprecated rather than deleted
  +1: markt, remm
  -1:

* Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45648
  http://svn.apache.org/viewvc?rev=690770&view=rev
  Don't trim the last character from the namespace
  +1: markt, remm
  -1: 

* Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45628
  http://svn.apache.org/viewvc?rev=691282&view=rev
  JARs without deps should always be fulfilled
  +1: markt, remm
  -1: 

* Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45618
  Make sure selector is closed.
  Unlikely to be an issue for most (all?) circumstances but technically
  needs fixing,
  http://svn.apache.org/viewvc?rev=691392&view=rev
  +1: markt
  -1: 

* ETag improvement: https://issues.apache.org/bugzilla/show_bug.cgi?id=45735
  +1: remm, markt
  -1: 

* Handle session suffix rewrite at JvmRouteBinderValve with parallel requests from same client
  http://svn.apache.org/viewvc?rev=693378&view=rev
  +1: pero
  -1: 

* Fix cut and paste error in JSP EL examples
  http://svn.apache.org/viewvc?rev=694791&view=rev
  +1: markt
  -1: 

* Fix log a warning if we create maxThreads
  http://svn.apache.org/viewvc?rev=694951&view=rev
  +1: markt
  -1: 

* Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=44382
  Use HttpOnly for session cookies. This is enabled by default. Feel free to
  caveat you vote with a preference for disabled by default.
  http://svn.apache.org/viewvc?rev=694992&view=rev
  +1: mark (prefer enabled, happy with disabled)
  -1: 

* Exclude wsdl4j stuff from .classpath (it can't build anyway).
  http://people.apache.org/~jfclere/patches/patch.classpath
  +1: jfclere
  -1: 

* Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=45785
  Ignore directories named xxx.jar in WEB-INF/lib
  http://svn.apache.org/viewvc?rev=695274&view=rev
  http://svn.apache.org/viewvc?rev=695284&view=rev
  +1: markt
  -1: 
