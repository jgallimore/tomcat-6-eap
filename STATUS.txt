================================================================================
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
================================================================================

$Id$

                         =================================
                         Apache Tomcat 6.0 Patch Proposals
                         =================================


RELEASE SHOWSTOPPERS:


PATCHES ACCEPTED TO BACKPORT:
  [ start all new proposals below, under PATCHES PROPOSED. ]

PATCHES PROPOSED TO BACKPORT:
  [ New proposals should be added at the end of the list ]



* Make deletion of the copied WARs used for anti-resource locking more
  robust if the context fails to start (there were some circumstances where
  the original WAR could get deleted).
  http://svn.apache.org/r1484923
  http://svn.apache.org/r1484924 (documentation)
  Already committed in Tomcat 6.
  Formally proposing for a review, see Re:r1484923 thread on dev@.
  A followup patch is below.
  +1: markt, kkolinko
  -1:

  Followups to r1484923:
  Make antiLockingDocBase an absolute path and simplify code.
  Patch:
  http://people.apache.org/~kkolinko/patches/2013-06-04_tc6_antiLockingDocBase.patch
  (Backport of r1485114 + r1488151, markt/kkolinko)
  +1: kkolinko
  -1:

* Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=55019
  Fix an exception that occurs when accessing certain JSP page when running
  with SecurityManager
  patch in the issue (in SecurityClassLoad).
  https://issues.apache.org/bugzilla/attachment.cgi?id=30336
  +1: jfclere, remm, kkolinko
  -1:

* Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=54947
  http://svn.apache.org/r1486877
  NIO connector incorrectly rejects a request if the CRLF terminating the
  request line is split across multiple packets.
  Patch for the fix by Konstantin Prei&#223;er (Preisser).
  +1: markt, kkolinko
  -1:

* Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=55052
  Make JULI's LogManager to additionally look for logging properties
  without prefixes if the property cannot be found with a prefix.
  https://issues.apache.org/bugzilla/attachment.cgi?id=30387
  +1: kkolinko
  -1:

* Update Maven Central location used to download dependencies at build time
  to be <code>repo.maven.apache.org</code>.
  (This was suggested by Olivier Lamy in Re:r1307146,
    http://markmail.org/message/6q2yfkqvic7bcpib )
  http://svn.apache.org/r1491485
  +1: kkolinko
  -1:

* Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=55198
  Correctly escape XML output from tagx files.
  http://svn.apache.org/r1500065 (excluding tests)
  +1: markt
  -1:

* Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=55228
  Allow applications to set an HTTP date header
  http://svn.apache.org/r1502258
  +1: markt
  -1:

* Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=55268
  Back-port of r1503852 from Tomcat 7.0.x.
  Add optional --service-start-wait-time command-line option to bin/daemon.sh
  to change service start wait time from default of 10 seconds.
  +1: schultz
  -1:

PATCHES/ISSUES THAT ARE STALLED

* Backport JSP unloading patch (BZ48358).
  The patch has substantially changed since the original version.
  Original revisions are: 937787, 1028377, 1028389, 1028396, 1028861, 1028862, 1028863,
  1028935, 1028939, 1028940, 1028944, 1028950, 1030014, 1030037
  Combined TC 6 patch:
  http://people.apache.org/~rjung/patches/BZ48358-JSP_Unloading-TC6_20101118.patch
  +1: rjung
  -0: markt - http://markmail.org/thread/777be426ulcfmdd3 suggests there may be
              a memory leak in this code somewhere. I'd like to get to the
              bottom of that before porting this
      rjung:  I started a discussion about JSPs and memory on the dev list.
              The updated patch fixes a race condition.
              We can stall this item until we get some feedback about 7.0.5.
      markt - r1172614 needs to be included in this proposal. With that patch,
              my testing shows that the unloading works as designed
      kkolinko - r1428358 (r1428355) is needed - a fix for BZ 54260.
  -1:
