================================================================================
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
================================================================================

                         =================================
                         Apache Tomcat 6.0 Patch Proposals
                         =================================


RELEASE SHOWSTOPPERS:

None


PATCHES PROPOSED TO BACKPORT:
  [ New proposals should be added at the end of the list ]

* Back-port patch to allow different kinds of FIPS configuration.
  http://people.apache.org/~schultz/patches/tcnative.heartbleed.tomcat6.diff
  http://svn.apache.org/viewvc?view=revision&revision=r1587379
  http://svn.apache.org/viewvc?view=revision&amp;revision=r1587723 (adapt)
  (Note: requires tcnative 1.1.30)
  +1: schultz, markt, remm
  -1: kkolinko:
       a) I cannot test (without FIPS-enabled library), but from my code review
          the new options will not work because you are not setting
          "fipsModeActive" field in AprLifecycleListener.

          Thus AprLifecycleListener.isFIPSModeActive() will return false
          and startup will be aborted.

       b) It needs backport of r1588102 as an Exception is thrown by native code

       c) "enterFipsMode = 1 != fipsModeState;" code and comment before it are wrong.

          FIPS_mode() function of OpenSSL is documented to return non-zero
          value when in FIPS mode. You cannot expect it to be '1'.
          Reference:
           http://wiki.openssl.org/index.php/FIPS_mode%28%29
       Alternative patch is proposed below.


* Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=56363
  Update version of Tomcat Native library included with Tomcat to 1.1.30
  and make it the recommended version.
  https://people.apache.org/~kkolinko/patches/2014-04-27_tc6_native_1_1_30.patch
  +1: kkolinko, markt
  -1:

* Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=56027
  Add more options for managing FIPS mode in the AprLifecycleListener.
  Update to version 1.1.30 of Tomcat Native library.
  (This feature requires TCNative 1.1.30)
  (Reimplemented, based on earlier proposal by schultz)
  https://people.apache.org/~kkolinko/patches/2014-04-27_tc6_56027_FIPSMode.patch
  http://svn.apache.org/r1590845 (javadoc fixes)
  +1: kkolinko, markt
  -1:

* Defensive coding around some XML activities that are triggered by web
  applications and are therefore at potential risk of a memory leak.
  http://people.apache.org/~markt/patches/2014-04-25-memory-leak-tc6-v1.patch
  +1: markt, kkolinko
  -1:

* Ensure TLD parser obtained from cache has correct value of blockExternal
  (r1590036 + r1590040 + r1590065)
  https://people.apache.org/~kkolinko/patches/2014-04-26_tc6_TldConfig.patch
  +1: kkolinko, mark
  -1:

* Followup to r1589635
  To simplify code and align it with TC7 & 8.
  (Discussed in Re:r1589635)
  http://svn.apache.org/r1589737
  +1: kkolinko, markt
  -1:

* Additional change missed in back-port to fix BZ 56334
  http://people.apache.org/~markt/patches/2014-04-28-bug56334-tc6-v1.patch
  +1: markt, kkolinko
  -1:

* Correct the handling of back-slash escaping in the EL parser and no longer
  require that "\$" or "\#" must be followed by "{" in order for the back-slash
  escaping to take effect.
  http://svn.apache.org/r1590838
  http://svn.apache.org/r1590912
  +1: markt, kkolinko
  -1:

* Additional fixes for BZ 56334
  http://svn.apache.org/r1590848
  +1: kkolinko
  -1:
   kkolinko: I expect to prepare a more formal patch for this later. The
   merge is unlikely to complete cleanly without Mark's
   2014-04-28-bug56334-tc6-v1.patch being applied first.


PATCHES/ISSUES THAT ARE STALLED:

None
