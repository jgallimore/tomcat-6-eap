================================================================================
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
================================================================================

$Id$

                         =================================
                         Apache Tomcat 6.0 Patch Proposals
                         =================================


RELEASE SHOWSTOPPERS:


PATCHES ACCEPTED TO BACKPORT:
  [ start all new proposals below, under PATCHES PROPOSED. ]

PATCHES PROPOSED TO BACKPORT:
  [ New proposals should be added at the end of the list ]


* Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=55759
  Update the Eclipse compiler to 4.3.1
  http://svn.apache.org/viewvc?view=revision&revision=1539953
  +1: markt, remm
  +0: kkolinko: A Tomcat6-specific patch is needed. It needs update to jar
       exclude lists in TldConfig.java, TldLocationsCache.java, see r1476932.
  -1:

* Back-port some XML processing improvements (part 4)
  Add a unit test for the new descriptor
  Note I am generating the patches using git so the patch shows whole new files
  being added. When actually making the commit, they will be copied from 7.0.x 
  and amended to retain history.
  Note: Part 5 onwards do not depend on this patch so this could be ignored /
        addressed later without impacting the XML changes.
  http://people.apache.org/~markt/patches/2013-12-19-xml-prep-part4-tc6-v1.patch
  +1: markt, remm
  +0: kkolinko:
      This requires JUnit4. Formally, "eclipse.classpath" file still uses
      JUnit 3 and if I understand correctly build.xml does not have JUnit
      on classpath, but uses whatever version is available with Ant, with
       <available classname="junit.framework.TestCase" property="junit.present" />

      A patch to introduce JUnit 4 may be to fix the Eclipse file and
      fix the availability check to look for a JUnit 4 class.
      (A more detailed solution may be based on r1408413, but that
      requires Ant >= 1.8.0).
  -1:

* Back-port from XML processing improvements (part 6)
  Upgrade digester to use DefaultHandler2 and use LexicalHandler to detect
  publicId.
  Simplify web application version detection in web.xml
  Extracted from a patch by Jeremy Boynes.
  Essentially, this is a back-port of http://svn.apache.org/r1547931
  Note that the patch contains a number of strictly unnecessary cosmetic changes
  that have been included to make it simpler to compare the resulting Tomcat 6
  code with the current Tomcat 7 code to validate the correctness of the
  back-port
  http://people.apache.org/~markt/patches/2014-01-08-xml-prep-part6-tc6-v1.patch
  +1: markt, kkolinko, remm
  -1:
   kkolinko: It would be easier to review without all those trailing
     whitespace changes.

* Back-port from XML processing improvements (part 7)
  Switch o.a.catalina classes to use the new ErrorHandler
  Back-port of http://svn.apache.org/r1547937
  http://people.apache.org/~markt/patches/2014-01-08-xml-prep-part7-tc6-v1.patch
  +1: markt, kkolinko, remm
  -1:

* Back-port from XML processing improvements (part 8)
  Switch ParserUtils to use the new ErrorHandler
  Back-port of http://svn.apache.org/r1547947
  http://people.apache.org/~markt/patches/2014-01-08-xml-prep-part8-tc6-v1.patch
  plus
  http://svn.apache.org/1556840 to address kkolinko's comment
  +1: markt, remm
  +1: kkolinko (would be better with a fix to BZ 55974, so that the first
       error is reported like the old code does, not a random one)
  -1:

* Back-port from XML processing improvements (part 9)
  Switch JspDocumentParser to an DefaultHandler2
  Back-port of http://svn.apache.org/r1547948
  http://people.apache.org/~markt/patches/2014-01-08-xml-prep-part9-tc6-v1.patch
  +1: markt, kkolinko, remm
  -1:

* Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=55973
  Fix processing of XML schemas when validation is enabled in Jasper
  http://svn.apache.org/r1556377
  +1: kkolinko, jboynes, markt
  -1:

* Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=55119
  Avoid CVE-2013-1571 when generating Javadoc
  http://svn.apache.org/r1495875
  +1: markt, remm
  +1: kkolinko (The fix goes into dist.xml)
  -1:

* Fix https://issues.apache.org/bugzilla/show_bug.cgi?id=55671
  Consistent naming for genStringAsCharArray
  https://issues.apache.org/bugzilla/attachment.cgi?id=31187
  +1: markt, remm
  -0: kkolinko: I think "genStrAsCharArray" is the proper and
        documented name for Tomcat 6. If we change the init-param name
        for better compatibility with Tomcat 7 (a good thing, +1),
        the code should check both the new and the old param names.
        It also needs r1556725.
        https://issues.apache.org/bugzilla/show_bug.cgi?id=55671#c1
      markt: patch updated
  -1:


PATCHES/ISSUES THAT ARE STALLED

